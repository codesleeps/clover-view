function toggleMenu(){const navMenu=document.querySelector(".nav-menu");const hamburger=document.getElementById("hamburger");const body=document.body;if(navMenu){navMenu.classList.toggle("active")}if(hamburger){hamburger.classList.toggle("active")}body.classList.toggle("menu-open")}function closeMenu(){const navMenu=document.querySelector(".nav-menu");const hamburger=document.getElementById("hamburger");const body=document.body;navMenu.classList.remove("active");if(hamburger)hamburger.classList.remove("active");body.classList.remove("menu-open")}function showTab(n){document.getElementById("booking-form").classList.remove("active");document.getElementById("quote-form").classList.remove("active");document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));document.getElementById(n+"-form").classList.add("active");document.querySelector('.tab-btn[data-tab="'+n+'"]').classList.add("active")}function smoothScrollTo(target,duration=800){const targetElement=document.querySelector(target);if(!targetElement)return;const targetPosition=targetElement.offsetTop-100;const startPosition=window.scrollY;const distance=targetPosition-startPosition;let startTime=null;document.body.classList.add("scrolling");function animation(currentTime){if(startTime===null)startTime=currentTime;const timeElapsed=currentTime-startTime;const run=ease(timeElapsed,startPosition,distance,duration);window.scrollTo(0,run);if(timeElapsed<duration){requestAnimationFrame(animation)}else{document.body.classList.remove("scrolling")}}function ease(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b}requestAnimationFrame(animation)}function initSmoothScroll(){const smoothScrollElements=document.querySelectorAll("[data-smooth-scroll]");smoothScrollElements.forEach(element=>{element.addEventListener("click",e=>{e.preventDefault();const target=element.getAttribute("data-smooth-scroll");if(target.startsWith("#")){if("scrollBehavior"in document.documentElement.style){const targetElement=document.querySelector(target);if(targetElement){targetElement.scrollIntoView({behavior:"smooth",block:"start"})}}else{smoothScrollTo(target,1e3)}}})})}function initBackToTop(){const backToTop=document.getElementById("backToTop");if(!backToTop)return;window.addEventListener("scroll",function(){if(window.scrollY>300){backToTop.style.opacity="1";backToTop.style.pointerEvents="auto"}else{backToTop.style.opacity="0";backToTop.style.pointerEvents="none"}});backToTop.addEventListener("click",function(){if("scrollBehavior"in document.documentElement.style){window.scrollTo({top:0,behavior:"smooth"})}else{smoothScrollTo("body",1e3)}})}function handleFormSubmission(form,isQuoteForm=false){form.addEventListener("submit",async function(e){e.preventDefault();const submitBtn=form.querySelector('button[type="submit"]');const originalText=submitBtn.textContent;submitBtn.textContent="Sending...";submitBtn.disabled=true;try{const formData=new FormData(form);const data=Object.fromEntries(formData.entries());if(isQuoteForm){const services=formData.getAll("services");data.services=services.join(", ")}const response=await fetch("/contact-handler.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});const result=await response.json();if(response.ok&&result.success){window.location.href="/success.html"}else{throw new Error(result.error||"Failed to send message")}}catch(error){console.error("Form submission error:",error);alert("Sorry, there was an error sending your message. Please try again or contact us directly.")}finally{submitBtn.textContent=originalText;submitBtn.disabled=false}})}document.addEventListener("DOMContentLoaded",()=>{const hamburger=document.getElementById("hamburger");if(hamburger){hamburger.addEventListener("click",e=>{e.preventDefault();e.stopPropagation();toggleMenu()})}document.addEventListener("click",e=>{const navMenu=document.querySelector(".nav-menu");const hamburger=document.getElementById("hamburger");if(navMenu&&navMenu.classList.contains("active")&&!navMenu.contains(e.target)&&!hamburger.contains(e.target)){closeMenu()}});const navLinks=document.querySelectorAll(".nav-menu a");navLinks.forEach(link=>{link.addEventListener("click",e=>{e.preventDefault();const target=link.getAttribute("href");closeMenu();if(target.startsWith("#")){if("scrollBehavior"in document.documentElement.style){const targetElement=document.querySelector(target);if(targetElement){targetElement.scrollIntoView({behavior:"smooth",block:"start"})}}else{smoothScrollTo(target,1e3)}}})});document.querySelectorAll(".tab-btn").forEach(btn=>btn.addEventListener("click",()=>showTab(btn.dataset.tab)));document.querySelectorAll('input[type="date"]').forEach(i=>i.min=(new Date).toISOString().split("T")[0]);showTab("booking");initBackToTop();initSmoothScroll();const heroButtons=document.querySelectorAll(".hero-cta a");heroButtons.forEach(button=>{button.addEventListener("click",e=>{e.preventDefault();const target=button.getAttribute("href");if(target.startsWith("#")){if("scrollBehavior"in document.documentElement.style){const targetElement=document.querySelector(target);if(targetElement){targetElement.scrollIntoView({behavior:"smooth",block:"start"})}}else{smoothScrollTo(target,1e3)}}})})});